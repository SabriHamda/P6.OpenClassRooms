{% extends 'frontend/layout.html.twig' %}

{% block content %}
    <!=====----- navigation -----=====>
    {% include('frontend/parts/navigation.html.twig') %}
    <!=====----- navigation end-----=====>

    <div class="main-container container-fluid col-sm-12 col-md-12 col-lg-6">

        {{ form_start(form,{'attr':{'class':'register-form','method':'post'}}) }}
        <div class="form-row">
            <div class="street-titles col-12">
                <h1>Register</h1>
            </div>
            <h2 class="h2 mb-3 font-weight-normal">Veuillez saisir vos informations</h2>
            <div class="w-100">
                {{ form_errors(form) }}
            </div>
            <div class="col-md-6">
                <div class="form-group">
                </div>
                <div class="form-group">
                    <label>* Nom d'utilisateur</label>
                    {{ form_widget(form.username,{ 'attr': {'class': 'pimp', 'autofocus':'true'} }) }}
                    <span class="form-loader"></span>
                    {{ form_errors(form.username) }}
                </div>
                <div class="form-group">
                    <label>* Adresse email</label>
                    {{ form_widget(form.email,{ 'attr': {'class': 'pimp'} }) }}
                    <span class="form-loader"></span>
                    {{ form_errors(form.email) }}
                    <small class="form-text text-muted">We'll never share your email with anyone else.</small>
                </div>
                <div class="form-group">
                    <label>* Mot de passe</label>
                    {{ form_widget(form.password.first,{ 'attr': {'class': 'pimp'} }) }}
                    <span class="form-loader"></span>
                    {{ form_errors(form.password.first) }}
                </div>
                <div class="form-group">
                    <label>* Confirmer le mot de passe</label>
                    {{ form_widget(form.password.second,{ 'attr': {'class': 'pimp'} }) }}
                    <span class="form-loader"></span>
                    {{ form_errors(form.password.second) }}
                </div>

            </div>
            <div class="col-md-6 text-center">
                <div class="form-group form-control-file">
                    <label>Image de profile</label><br>
                    <div class="img-rounded">
                        <img id="preview" src="{{ asset('img/default/default-user-avatar.png') }}" alt="image"
                             class="text-center" style="max-height:150px;width:150px;height:150px;border-radius:150px;">
                    </div>
                    <br><br>
                    {{ form_widget(form.image) }}

                    {{ form_errors(form.image) }}

                </div>


                <button type="submit" class="btn btn-primary">S'enregistrer</button>

                {{ form_end(form) }}
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <small> Les articles marqu√©s avec un asterisque (*) sont obligatoires.</small>
                </div>
                <div class="form-group text-right">
                    <small><a href="{{ path('login') }}"><i class="fas fa-sign-in-alt"></i> &nbsp; deja un compte ? </a></small>
                </div>
            </div>
        </div>


    </div>


    <script type="text/javascript">
        function readURL(input) {
            if (input.files && input.files[0]) {
                let reader = new FileReader();

                reader.onload = function (e) {
                    document.getElementById("preview").setAttribute('src', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>

{% endblock content %}
